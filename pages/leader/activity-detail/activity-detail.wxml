<view class="container">
  <view wx:if="{{loading}}" class="loading">加载中...</view>

  <view wx:elif="{{detail}}">
    <view class="activity-card">
      <view class="header">
        <view class="title">{{detail.title || '未命名活动'}}</view>
        <view class="status-badge {{detail.statusClass}}">{{detail.statusText}}</view>
      </view>

      <view class="section">
        <text class="label">活动说明</text>
        <text class="content">{{detail.description || '未填写'}}</text>
      </view>

      <view class="section">
        <text class="label">地点</text>
        <text class="content">{{detail.location || '未填写'}}</text>
      </view>

      <view class="section time-grid">
        <view>
          <text class="label">开始时间</text>
          <text class="content">{{detail.startTimeDisplay || '未设置'}}</text>
        </view>
        <view>
          <text class="label">结束时间</text>
          <text class="content">{{detail.endTimeDisplay || '未设置'}}</text>
        </view>
      </view>

      <view class="section time-grid">
        <view>
          <text class="label">报名截止</text>
          <text class="content">{{detail.signupDeadlineDisplay || '未设置'}}</text>
        </view>
        <view>
          <text class="label">人数</text>
          <text class="content">{{detail.currentPeople || 0}} / {{detail.requiredPeople || 0}}</text>
        </view>
      </view>
    </view>

    <view class="task-card">
      <view class="task-header">
        <text class="task-title">任务列表</text>
      </view>
      <view wx:if="{{taskList.length}}">
        <view class="task-item" wx:for="{{taskList}}" wx:key="taskId">
          <view class="task-row">
            <text class="task-user">{{item.userName || '未设置'}}</text>
            <text class="status-badge task-status {{item.statusClass}}">{{item.statusText}}</text>
          </view>
          <text class="task-content">{{item.content || '无任务内容'}}</text>
          <view class="task-time">
            <text>开始：{{item.startTimeDisplay || '未设置'}}</text>
            <text>结束：{{item.endTimeDisplay || '未设置'}}</text>
          </view>
        </view>
      </view>
      <view wx:else class="empty">暂无任务</view>
    </view>
  </view>

  <view wx:else class="loading">未找到活动信息</view>
</view>
